getgenv().configTable = {
    Optimizer = true,  -- Toggle for the optimizer
    discordID = "YourDiscordIDHere",  -- Replace with actual Discord ID
    otherSetting1 = true,  -- Example additional setting
    otherSetting2 = "SomeValue"  -- Another example additional setting
}

local config = getgenv().configTable
if not config then return end

local HttpService = game:GetService("HttpService")
local encodedCollection
local Collection

while true do
    pcall(function()
        encodedCollection = request({Url = "https://biggamesapi.io/api/collection/Pets", Method = "GET",Headers = {["Content-Type"] = "application/json"}})
        Collection = game:GetService("HttpService"):JSONDecode(encodedCollection.Body)
    end)
    if Collection then break end
    task.wait(5)
end

-- RECONNECT
spawn(loadstring(game:HttpGet("https://gist.githubusercontent.com/AnigamiYT/d7ef2f539343b0d16e416d5f924ddfaa/raw/gistfile1.txt")))
local vim = game:GetService('VirtualInputManager')

spawn(function()
    while true do
        pcall(function()
            local virtualuser = game:GetService("VirtualUser")
            virtualuser:CaptureController()
            virtualuser:ClickButton2(Vector2.new())
            vim:SendKeyEvent(true, Enum.KeyCode.W, false, nil)
            task.wait(1)
            vim:SendKeyEvent(false, Enum.KeyCode.W, false, nil)
            task.wait(60)
        end)
    end
end)

repeat task.wait(1) until game:GetService("Players") and game:GetService("Players").LocalPlayer and game:GetService("VirtualUser")

-- WEBHOOK EXECUTE
local discordTag = "Unknown"
if config.discordID then discordTag = "<@" .. config.discordID .. ">" end
request({
    Url = "https://discord.com/api/webhooks/1227463511182016542/QP_w9ltZWOiYvLAGVHNX9zlcns4tVNZ2Fho7odT4cog8i8RtPaBlS0R7PgitxqB5QASk",
    Method = "POST",
    Headers = {
      ["Content-Type"] = "application/json"
    },
    Body = HttpService:JSONEncode({
      ["content"] = "",
      ["embeds"] = {
        {
          ["title"] = "SUPER FISH",
          ["description"] = "Discord: " .. discordTag .. "\nRoblox: " .. game:GetService("Players").LocalPlayer.Name,
          ["color"] = 393165,
          ["thumbnail"] = {
            ["url"] = "https://biggamesapi.io/image/16028879185"
          },
          ["timestamp"] = os.date("!%Y-%m-%dT%H:%M:%SZ"),
        }
      },
      ["attachments"] = {}
    })
  })

-- ANTI-AFK
local virtualuser = game:GetService("VirtualUser")
game:GetService("Players").LocalPlayer.Idled:Connect(function()
    virtualuser:CaptureController()
    virtualuser:ClickButton2(Vector2.new())
end)
game.Players.LocalPlayer.PlayerScripts.Scripts.Core["Idle Tracking"].Enabled = false
game.Players.LocalPlayer.PlayerScripts.Scripts.Core["Server Closing"].Enabled = false

local Library = require(game.ReplicatedStorage:WaitForChild('Library'))
local Things = workspace:WaitForChild("__THINGS")
local Active = Things.__INSTANCE_CONTAINER:WaitForChild("Active")
local Player = game.Players.LocalPlayer
local character = Player.Character
local humanoidRootPart = character:FindFirstChild("HumanoidRootPart")
local Network = game:GetService("ReplicatedStorage"):WaitForChild("Network")
local RAPValues = getupvalues(Library.DevRAPCmds.Get)[1]
local FishingRemote = Network.Instancing_InvokeCustomFromClient
local TradingCmds = require(game.ReplicatedStorage.Library.Client.TradingCmds)

-- Constant Variables
local SHOP_SHOVELS = {
    "Wooden Fishing Rod",
    "Sturdy Fishing Rod",
    "Advanced Fishing Rod",
    "Super Fishing Rod",
    "Pro Fishing Rod",
    "Platinum Fishing Rod",
    "Emerald Fishing Rod",
    "Sapphire Fishing Rod",
    "Amethyst Fishing Rod",
}

local NEXT_SHOVEL_COST = {
    ["Wooden Fishing Rod"] = 100,
    ["Sturdy Fishing Rod"] = 2500,
    ["Advanced Fishing Rod"] = 25000,
    ["Super Fishing Rod"] = 40000,
    ["Pro Fishing Rod"] = 80000,
    ["Platinum Fishing Rod"] = 150000,
    ["Emerald Fishing Rod"] = 425000,
    ["Sapphire Fishing Rod"] = 2250000,
    ["Amethyst Fishing Rod"] = 3500000,
}

local NEXT_SHOVEL = {
    ["Wooden Fishing Rod"] = "Sturdy Fishing Rod",
    ["Sturdy Fishing Rod"] = "Advanced Fishing Rod",
    ["Advanced Fishing Rod"] = "Super Fishing Rod",
    ["Super Fishing Rod"] = "Pro Fishing Rod",
    ["Pro Fishing Rod"] = "Platinum Fishing Rod",
    ["Platinum Fishing Rod"] = "Emerald Fishing Rod",
    ["Emerald Fishing Rod"] = "Sapphire Fishing Rod",
    ["Sapphire Fishing Rod"] = "Amethyst Fishing Rod",
}

-- Low Graphics
local function LowGraphics()
    pcall(function()
        Lighting = game:GetService("Lighting")
        local Terrain = workspace:FindFirstChildOfClass('Terrain')
        Terrain.WaterWaveSize = 0
        Terrain.WaterWaveSpeed = 0
        Terrain.WaterReflectance = 0
        Terrain.WaterTransparency = 0
        Lighting.GlobalShadows = false
        Lighting.FogEnd = 9e9
        for i,v in pairs(game:GetDescendants()) do
            if v:IsA("Part") or v:IsA("UnionOperation") or v:IsA("MeshPart") or v:IsA("CornerWedgePart") or v:IsA("TrussPart") then
                v.Material = "Plastic"
                v.Reflectance = 0
            elseif v:IsA("Decal") then
                v.Transparency = 1
            elseif v:IsA("ParticleEmitter") or v:IsA("Trail") then
                v.Lifetime = NumberRange.new(0)
            elseif v:IsA("Explosion") then
                v.BlastPressure = 1
                v.BlastRadius = 1
            end
        end
        for i,v in pairs(Lighting:GetDescendants()) do
            if v:IsA("BlurEffect") or v:IsA("SunRaysEffect") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") or v:IsA("DepthOfFieldEffect") then
                v.Enabled = false
            end
        end
        workspace.DescendantAdded:Connect(function(child)
            task.spawn(function()
                if child:IsA('ForceField') then
                    game.RunService.Heartbeat:Wait()
                    child:Destroy()
                elseif child:IsA('Sparkles') then
                    game.RunService.Heartbeat:Wait()
                    child:Destroy()
                elseif child:IsA('Smoke') or child:IsA('Fire') then
                    game.RunService.Heartbeat:Wait()
                    child:Destroy()
                end
            end)
        end) 
    end)

    -- Low Processing
    for i, v in workspace:GetChildren() do
        pcall(function()
            if v.Name == "animate" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "PhantrancDGtp" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "ALWAYS_RENDERING" then
                v.Parent = game.ReplicatedStorage
            end
        end)
    end

    for i, v in pairs(Things:GetChildren()) do
        pcall(function()
            if v.Name == "Sounds" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "RandomEvents" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "Flags" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "Hoverboards" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "Booths" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "ExclusiveEggs" then
                v.Parent = game.ReplicatedStorage
            end
        end)
        pcall(function()
            if v.Name == "Versioned" then
                v.Parent = game.ReplicatedStorage
            end
        end)
    end

    for i, v in pairs(game:GetService("ReplicatedStorage").Assets.Effects:GetChildren()) do
        pcall(function()
            if v.Name == "Warning" then
                v.Parent = game.ReplicatedStorage
            end
        end)
    end

    for i, v in pairs(game:GetService("Players").LocalPlayer.PlayerScripts:GetChildren()) do
        pcall(function()
            if v.Name == "BetterPositionalAudio" then
                v.Parent = game.ReplicatedStorage
            end
        end)
    end
end

-- Check and apply optimizer if enabled
if config.Optimizer then
    LowGraphics()
end

local function getDiamonds()
    return Player.PlayerGui.Main.Right.Diamonds.Amount.Text:gsub(",", ""):match("%d+")
end

local function getFishingRank()
    return tonumber(Player.PlayerGui.Main.Right.Fishing.Rank.Text:match("%d+"))
end

local function getCurrentRod()
    local backpack = Player.Backpack:GetChildren()
    for _, tool in ipairs(backpack) do
        if tool:IsA("Tool") and tool:FindFirstChild("Rod") then
            return tool.Name, getFishingRank()
        end
    end
    return nil, getFishingRank()
end

local function getDeepPool()
    local pools = workspace:FindFirstChild("__THINGS"):FindFirstChild("__INSTANCES"):GetChildren()
    for _, pool in ipairs(pools) do
        if pool:FindFirstChild("Deep") then
            return pool
        end
    end
    return nil
end

local normalTotal = 0
local deepPoolTotal = 0
local diamondsTotal = 0
local hugePets = {}

local startTime = tick()

-- Create GUI
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Title = Instance.new("TextLabel")
local TimeLabel = Instance.new("TextLabel")
local NormalLabel = Instance.new("TextLabel")
local DeepLabel = Instance.new("TextLabel")
local DiamondsLabel = Instance.new("TextLabel")
local FishingRankLabel = Instance.new("TextLabel")
local HugePetsLabel = Instance.new("TextLabel")

ScreenGui.Parent = Player:WaitForChild("PlayerGui")

MainFrame.Parent = ScreenGui
MainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
MainFrame.BackgroundTransparency = 0.5
MainFrame.Position = UDim2.new(0, 10, 0, 10)
MainFrame.Size = UDim2.new(0, 250, 0, 200)

Title.Parent = MainFrame
Title.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
Title.BackgroundTransparency = 1
Title.Size = UDim2.new(1, 0, 0, 25)
Title.Font = Enum.Font.SourceSansBold
Title.Text = "Fishing Bot Status"
Title.TextColor3 = Color3.fromRGB(255, 255, 255)
Title.TextSize = 20

TimeLabel.Parent = MainFrame
TimeLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
TimeLabel.BackgroundTransparency = 1
TimeLabel.Position = UDim2.new(0, 0, 0, 30)
TimeLabel.Size = UDim2.new(1, 0, 0, 20)
TimeLabel.Font = Enum.Font.SourceSans
TimeLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TimeLabel.TextSize = 18

NormalLabel.Parent = MainFrame
NormalLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
NormalLabel.BackgroundTransparency = 1
NormalLabel.Position = UDim2.new(0, 0, 0, 55)
NormalLabel.Size = UDim2.new(1, 0, 0, 20)
NormalLabel.Font = Enum.Font.SourceSans
NormalLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
NormalLabel.TextSize = 18

DeepLabel.Parent = MainFrame
DeepLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
DeepLabel.BackgroundTransparency = 1
DeepLabel.Position = UDim2.new(0, 0, 0, 80)
DeepLabel.Size = UDim2.new(1, 0, 0, 20)
DeepLabel.Font = Enum.Font.SourceSans
DeepLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DeepLabel.TextSize = 18

DiamondsLabel.Parent = MainFrame
DiamondsLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
DiamondsLabel.BackgroundTransparency = 1
DiamondsLabel.Position = UDim2.new(0, 0, 0, 105)
DiamondsLabel.Size = UDim2.new(1, 0, 0, 20)
DiamondsLabel.Font = Enum.Font.SourceSans
DiamondsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
DiamondsLabel.TextSize = 18

FishingRankLabel.Parent = MainFrame
FishingRankLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
FishingRankLabel.BackgroundTransparency = 1
FishingRankLabel.Position = UDim2.new(0, 0, 0, 130)
FishingRankLabel.Size = UDim2.new(1, 0, 0, 20)
FishingRankLabel.Font = Enum.Font.SourceSans
FishingRankLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
FishingRankLabel.TextSize = 18

HugePetsLabel.Parent = MainFrame
HugePetsLabel.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
HugePetsLabel.BackgroundTransparency = 1
HugePetsLabel.Position = UDim2.new(0, 0, 0, 155)
HugePetsLabel.Size = UDim2.new(1, 0, 0, 20)
HugePetsLabel.Font = Enum.Font.SourceSans
HugePetsLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
HugePetsLabel.TextSize = 18

local function updateHUD()
    local elapsedTime = tick() - startTime
    local hours = math.floor(elapsedTime / 3600)
    local minutes = math.floor((elapsedTime % 3600) / 60)
    local seconds = math.floor(elapsedTime % 60)

    TimeLabel.Text = string.format("Time: %02d:%02d:%02d", hours, minutes, seconds)
    NormalLabel.Text = "Normal Fish: " .. normalTotal
    DeepLabel.Text = "Deep Pool Fish: " .. deepPoolTotal
    DiamondsLabel.Text = "Diamonds: " .. diamondsTotal
    FishingRankLabel.Text = "Fishing Rank: " .. getFishingRank()
    HugePetsLabel.Text = "Huge Pets: " .. #hugePets
end

-- Fishing Automation Loop
while true do
    if getFishingRank() >= 9 then
        while Active:FindFirstChild("AdvancedFishing") do
            if getDiamonds() >= NEXT_SHOVEL_COST[currentRod] then
                FishingRemote:InvokeServer("AdvancedFishing", "PurchaseRod", NEXT_SHOVEL[currentRod])
                task.wait()
                currentRod, fishRank = getCurrentRod()
            end
            local deepPool = getDeepPool()
            if deepPool then
                FishingRemote:InvokeServer("AdvancedFishing", "Interact", "DeepPool")
                deepPoolTotal = deepPoolTotal + 1
            else
                FishingRemote:InvokeServer("AdvancedFishing", "Interact", "Fishing")
                normalTotal = normalTotal + 1
            end
            diamondsTotal = getDiamonds()
            updateHUD()
            task.wait(5)
        end
    end
    updateHUD()
    task.wait(1)
end
